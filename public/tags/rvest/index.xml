<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Rvest on Michael Lee</title>
    <link>https://mikeleeco.github.io/tags/rvest/index.xml</link>
    <description>Recent content in Rvest on Michael Lee</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>mdlee12@gmail.com (Michael Lee)</managingEditor>
    <webMaster>mdlee12@gmail.com (Michael Lee)</webMaster>
    <atom:link href="https://mikeleeco.github.io/tags/rvest/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Genre Interactive - Visualizing Video Games Throughout History</title>
      <link>https://mikeleeco.github.io/interactives/2015-06-10-genre-interactive/</link>
      <pubDate>Wed, 10 Jun 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/interactives/2015-06-10-genre-interactive/</guid>
      <description>&lt;style&gt;
      svg *::selection {
         background : transparent;
         width: 700px;
         height: 500px;
         margin-left: 30px;
         font-size: 13px; 
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 9pt;
        font-family: Andale Mono, Andale Mono;
        fill: #4a4a4a;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: Andale Mono;
        font-size: 12px;
        line-height: 20px;
      }
&lt;/style&gt;

&lt;div id=&#34;tooltip&#34; class=&#34;hidden&#34;&gt;
  &lt;p&gt;&lt;span id=&#34;value&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;script src=&#34;http://d3js.org/d3.v3.min.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;chart2&#34; class=&#34;text-center&#34;&gt;&lt;/div&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  cl_number=43;
  rw_number=8;
  widthy = cellSize*cl_number, // - margin.left - margin.right,
  heighty = cellSize*rw_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(widthy / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = [&#39;#FFFFFF&#39;,&#39;#F1EEF6&#39;,&#39;#E6D3E1&#39;,&#39;#DBB9CD&#39;,&#39;#D19EB9&#39;,&#39;#C684A4&#39;,&#39;#BB6990&#39;,&#39;#B14F7C&#39;,&#39;#A63467&#39;,&#39;#9B1A53&#39;,&#39;#91003F&#39;];
  hcrw = [1,2,3,4,5,6,7,8],
  hccl = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rwLabel = [&#39;Action&#39;,&#39;Adventure&#39;,&#39;Educational&#39;,&#39;RPG&#39;,&#39;Racing&#39;,&#39;Simulation&#39;,&#39;Sports&#39;,&#39;Strategy&#39;],
  clLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;];

d3.csv(&#34;/data/data_heatmap2.csv&#34;,
function(d) {
  return {
    rw:   +d.rw_id,
    cl:   +d.cl_id,
    value: +d.vgfre
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var chartb = d3.select(&#34;div#chart2&#34;).append(&#34;svg&#34;)
      .attr(&#34;width&#34;, widthy + margin.left + margin.right)
      .attr(&#34;height&#34;, heighty + margin.top + margin.bottom)
      .append(&#34;g&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34; + margin.left + &#34;,&#34; + margin.top + &#34;)&#34;)
      ;

  var rwSortOrder=false;
  var rwLabels = chartb.append(&#34;g&#34;)
      .selectAll(&#34;.rwLabelg&#34;)
      .data(rwLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hcrw.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;end&#34;)
      .attr(&#34;transform&#34;, &#34;translate(-6,&#34; + cellSize / 1.5 + &#34;)&#34;)
      .attr(&#34;class&#34;, function (d,i) { return &#34;rwLabel mono rr&#34;+i;} ) 
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {rwSortOrder=!rwSortOrder; sortbylabel(&#34;rr&#34;,i,rwSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var clSortOrder=false;
  var clLabels = chartb.append(&#34;g&#34;)
      .selectAll(&#34;.clLabelg&#34;)
      .data(clLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hccl.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;left&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34;+cellSize/2 + &#34;,-6) rotate (-90)&#34;)
      .attr(&#34;class&#34;,  function (d,i) { return &#34;clLabel mono cc&#34;+i;} )
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {clSortOrder=!clSortOrder;  sortbylabel(&#34;cc&#34;,i,clSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var heat = chartb.append(&#34;g&#34;).attr(&#34;class&#34;,&#34;g3&#34;)
        .selectAll(&#34;.cellg&#34;)
        .data(data,function(d){return d.rw+&#34;:&#34;+d.cl;})
        .enter()
        .append(&#34;rect&#34;)
        .attr(&#34;x&#34;, function(d) { return hccl.indexOf(d.cl) * cellSize; })
        .attr(&#34;y&#34;, function(d) { return hcrw.indexOf(d.rw) * cellSize; })
        .attr(&#34;class&#34;, function(d){return &#34;cell cell-border ccrr&#34;+(d.rw-1)+&#34; cccc&#34;+(d.cl-1);})
        .attr(&#34;width&#34;, cellSize)
        .attr(&#34;height&#34;, cellSize)
        .style(&#34;fill&#34;, function(d) { return colorScale(d.value); })
        /* .on(&#34;click&#34;, function(d) {
               var rwtext=d3.select(&#34;.rr&#34;+(d.rw-1));
               if(rwtext.classed(&#34;text-selected&#34;)==false){
                   rwtext.classed(&#34;text-selected&#34;,true);
               }else{
                   rwtext.classed(&#34;text-selected&#34;,false);
               }
        })*/
        .on(&#34;mouseover&#34;, function(d){
               //highlight text
               d3.select(this).classed(&#34;cell-hover&#34;,true);
               d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-highlight&#34;,function(r,ri){ return ri==(d.rw-1);});
               d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-highlight&#34;,function(c,ci){ return ci==(d.cl-1);});
        
               //Update the tooltip position and value
               d3.select(&#34;#tooltip&#34;)
                 .style(&#34;left&#34;, (d3.event.pageX+10) + &#34;px&#34;)
                 .style(&#34;top&#34;, (d3.event.pageY-10) + &#34;px&#34;)
                 .select(&#34;#value&#34;)
                 .text(d.value+&#34;% of &#34;+rwLabel[d.rw-1]+&#34; games have a &#34;+clLabel[d.cl-1]+&#34; theme&#34;);  
               //Show the tooltip
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, false);
        })
        .on(&#34;mouseout&#34;, function(){
               d3.select(this).classed(&#34;cell-hover&#34;,false);
               d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, true);
        })
        ;

  var legend = chartb.selectAll(&#34;.legend&#34;)
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append(&#34;g&#34;)
      .attr(&#34;class&#34;, &#34;legend&#34;);
 
  legend.append(&#34;rect&#34;)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, heighty+(cellSize*2))
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;height&#34;, cellSize)
    .style(&#34;fill&#34;, function(d, i) { return colors[i]; });
 
  legend.append(&#34;text&#34;)
    .attr(&#34;class&#34;, &#34;mono&#34;)
    .text(function(d) { return d; })
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, heighty + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rrORcc,i,sortOrder){
       var t = chartb.transition().duration(1500);
       var vgfre=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(&#34;.cc&#34;+rrORcc+i) 
         .filter(function(ce){
            vgfre.push(ce.value);
          })
       ;
       if(rrORcc==&#34;rr&#34;){ // sort vgfre of a gene
         sorted=d3.range(cl_number).sort(function(a,b){ if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;x&#34;, function(d) { return sorted.indexOf(d.cl-1) * cellSize; })
           ;
         t.selectAll(&#34;.clLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(rw_number).sort(function(a,b){if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;y&#34;, function(d) { return sorted.indexOf(d.rw-1) * cellSize; })
           ;
         t.selectAll(&#34;.rwLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select(&#34;#order&#34;).on(&#34;change&#34;,function(){
    order(this.value);
  });
  

  var sa=d3.select(&#34;.g3&#34;)
      .on(&#34;mousedown&#34;, function() {
          if( !d3.event.altKey) {
             d3.selectAll(&#34;.cell-selected&#34;).classed(&#34;cell-selected&#34;,false);
             d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-selected&#34;,false);
          }
         var p = d3.mouse(this);
         sa.append(&#34;rect&#34;)
         .attr({
             rx      : 0,
             ry      : 0,
             class   : &#34;selection&#34;,
             x       : p[0],
             y       : p[1],
             widthy   : 1,
             heighty  : 1
         })
      })
      .on(&#34;mousemove&#34;, function() {
         var s = sa.select(&#34;rect.selection&#34;);
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr(&#34;x&#34;), 10),
                     y       : parseInt(s.attr(&#34;y&#34;), 10),
                     widthy   : parseInt(s.attr(&#34;width&#34;), 10),
                     heighty  : parseInt(s.attr(&#34;height&#34;), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x &lt; 1 || (move.x*2&lt;d.widthy)) {
                 d.x = p[0];
                 d.widthy -= move.x;
             } else {
                 d.widthy = move.x;       
             }
      
             if(move.y &lt; 1 || (move.y*2&lt;d.heighty)) {
                 d.y = p[1];
                 d.heighty -= move.y;
             } else {
                 d.heighty = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll(&#39;.cell-selection.cell-selected&#39;).classed(&#34;cell-selected&#34;, false);
             d3.selectAll(&#34;.text-selection.text-selected&#34;).classed(&#34;text-selected&#34;,false);

             d3.selectAll(&#39;.cell&#39;).filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed(&#34;cell-selected&#34;) &amp;&amp; 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize &gt;= d.x &amp;&amp; (this.x.baseVal.value)&lt;=d.x+d.widthy &amp;&amp; 
                     (this.y.baseVal.value)+cellSize &gt;= d.y &amp;&amp; (this.y.baseVal.value)&lt;=d.y+d.heighty
                 ) {
      
                     d3.select(this)
                     .classed(&#34;cell-selection&#34;, true)
                     .classed(&#34;cell-selected&#34;, true);

                     d3.select(&#34;.rr&#34;+(cell_d.rw-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);

                     d3.select(&#34;.cc&#34;+(cell_d.cl-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);
                 }
             });
         }
      })
      .on(&#34;mouseup&#34;, function() {
            // remove selection frame
         sa.selectAll(&#34;rect.selection&#34;).remove();
      
             // remove temporary selection marker class
         d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
         d3.selectAll(&#34;.text-selection&#34;).classed(&#34;text-selection&#34;,false);
      })
      .on(&#34;mouseout&#34;, function() {
         if(d3.event.relatedTarget.tagName==&#39;html&#39;) {
                 // remove selection frame
             sa.selectAll(&#34;rect.selection&#34;).remove();
                 // remove temporary selection marker class
             d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
             d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-selected&#34;,false);
         }
      })
      ;
});
&lt;/script&gt;
</description>
    </item>
    
    <item>
      <title>Theme Interactive - Visualizing Video Games Throughout History</title>
      <link>https://mikeleeco.github.io/interactives/2015-06-10-theme-interactive/</link>
      <pubDate>Wed, 10 Jun 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/interactives/2015-06-10-theme-interactive/</guid>
      <description>&lt;style&gt;
      svg *::selection {
         background : transparent;
         width: 700px;
         height: 500px;
         margin-left: 30px;
         font-size: 13px; 
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 9pt;
        font-family: Andale Mono, Andale Mono;
        fill: #4a4a4a;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: Andale Mono;
        font-size: 12px;
        line-height: 20px;
      }
&lt;/style&gt;

&lt;div id=&#34;tooltip&#34; class=&#34;hidden&#34;&gt;
  &lt;p&gt;&lt;span id=&#34;value&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;script src=&#34;http://d3js.org/d3.v3.min.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;chart1&#34; class=&#34;text-center&#34;&gt;&lt;/div&gt;

&lt;script&gt;
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  col_number=43;
  row_number=43;
  width = cellSize*col_number, // - margin.left - margin.right,
  height = cellSize*row_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(width / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = [&#39;#FFFFFF&#39;,&#39;#F1EEF6&#39;,&#39;#E6D3E1&#39;,&#39;#DBB9CD&#39;,&#39;#D19EB9&#39;,&#39;#C684A4&#39;,&#39;#BB6990&#39;,&#39;#B14F7C&#39;,&#39;#A63467&#39;,&#39;#9B1A53&#39;,&#39;#91003F&#39;];
  hcrow = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  hccol = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rowLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;],
  colLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;];

d3.csv(&#34;/data/data_heatmap.csv&#34;,
function(d) {
  return {
    row:   +d.row_idx,
    col:   +d.col_idx,
    value: +d.vgfreq
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var charta = d3.select(&#34;div#chart1&#34;).append(&#34;svg&#34;)
      .attr(&#34;width&#34;, width + margin.left + margin.right)
      .attr(&#34;height&#34;, height + margin.top + margin.bottom)
      .append(&#34;g&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34; + margin.left + &#34;,&#34; + margin.top + &#34;)&#34;)
      ;
  var rowSortOrder=false;
  var colSortOrder=false;
  var rowLabels = charta.append(&#34;g&#34;)
      .selectAll(&#34;.rowLabelg&#34;)
      .data(rowLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hcrow.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;end&#34;)
      .attr(&#34;transform&#34;, &#34;translate(-6,&#34; + cellSize / 1.5 + &#34;)&#34;)
      .attr(&#34;class&#34;, function (d,i) { return &#34;rowLabel mono r&#34;+i;} ) 
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {rowSortOrder=!rowSortOrder; sortbylabel(&#34;r&#34;,i,rowSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var colLabels = charta.append(&#34;g&#34;)
      .selectAll(&#34;.colLabelg&#34;)
      .data(colLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hccol.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;left&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34;+cellSize/2 + &#34;,-6) rotate (-90)&#34;)
      .attr(&#34;class&#34;,  function (d,i) { return &#34;colLabel mono c&#34;+i;} )
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {colSortOrder=!colSortOrder;  sortbylabel(&#34;c&#34;,i,colSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var heatMap = charta.append(&#34;g&#34;).attr(&#34;class&#34;,&#34;g3&#34;)
        .selectAll(&#34;.cellg&#34;)
        .data(data,function(d){return d.row+&#34;:&#34;+d.col;})
        .enter()
        .append(&#34;rect&#34;)
        .attr(&#34;x&#34;, function(d) { return hccol.indexOf(d.col) * cellSize; })
        .attr(&#34;y&#34;, function(d) { return hcrow.indexOf(d.row) * cellSize; })
        .attr(&#34;class&#34;, function(d){return &#34;cell cell-border cr&#34;+(d.row-1)+&#34; cc&#34;+(d.col-1);})
        .attr(&#34;width&#34;, cellSize)
        .attr(&#34;height&#34;, cellSize)
        .style(&#34;fill&#34;, function(d) { return colorScale(d.value); })
        /* .on(&#34;click&#34;, function(d) {
               var rowtext=d3.select(&#34;.r&#34;+(d.row-1));
               if(rowtext.classed(&#34;text-selected&#34;)==false){
                   rowtext.classed(&#34;text-selected&#34;,true);
               }else{
                   rowtext.classed(&#34;text-selected&#34;,false);
               }
        })*/
        .on(&#34;mouseover&#34;, function(d){
               //highlight text
               d3.select(this).classed(&#34;cell-hover&#34;,true);
               d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-highlight&#34;,function(r,ri){ return ri==(d.row-1);});
               d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-highlight&#34;,function(c,ci){ return ci==(d.col-1);});
        
               //Update the tooltip position and value
               d3.select(&#34;#tooltip&#34;)
                 .style(&#34;left&#34;, (d3.event.pageX+10) + &#34;px&#34;)
                 .style(&#34;top&#34;, (d3.event.pageY-10) + &#34;px&#34;)
                 .select(&#34;#value&#34;)
                 .text(d.value+&#34;% of &#34;+rowLabel[d.row-1]+&#34; games have a &#34;+colLabel[d.col-1]+&#34; theme&#34;);  
               //Show the tooltip
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, false);
        })
        .on(&#34;mouseout&#34;, function(){
               d3.select(this).classed(&#34;cell-hover&#34;,false);
               d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, true);
        })
        ;

  var legend = charta.selectAll(&#34;.legend&#34;)
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append(&#34;g&#34;)
      .attr(&#34;class&#34;, &#34;legend&#34;);
 
  legend.append(&#34;rect&#34;)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, height+(cellSize*2))
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;height&#34;, cellSize)
    .style(&#34;fill&#34;, function(d, i) { return colors[i]; });
 
  legend.append(&#34;text&#34;)
    .attr(&#34;class&#34;, &#34;mono&#34;)
    .text(function(d) { return d; })
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, height + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rORc,i,sortOrder){
       var t = charta.transition().duration(1500);
       var vgfreq=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(&#34;.c&#34;+rORc+i) 
         .filter(function(ce){
            vgfreq.push(ce.value);
          })
       ;
       if(rORc==&#34;r&#34;){ // sort vgfreq of a gene
         sorted=d3.range(col_number).sort(function(a,b){ if(sortOrder){ return vgfreq[b]-vgfreq[a];}else{ return vgfreq[a]-vgfreq[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;x&#34;, function(d) { return sorted.indexOf(d.col-1) * cellSize; })
           ;
         t.selectAll(&#34;.colLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(row_number).sort(function(a,b){if(sortOrder){ return vgfreq[b]-vgfreq[a];}else{ return vgfreq[a]-vgfreq[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;y&#34;, function(d) { return sorted.indexOf(d.row-1) * cellSize; })
           ;
         t.selectAll(&#34;.rowLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select(&#34;#order&#34;).on(&#34;change&#34;,function(){
    order(this.value);
  });
  

  var sa=d3.select(&#34;.g3&#34;)
      .on(&#34;mousedown&#34;, function() {
          if( !d3.event.altKey) {
             d3.selectAll(&#34;.cell-selected&#34;).classed(&#34;cell-selected&#34;,false);
             d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-selected&#34;,false);
          }
         var p = d3.mouse(this);
         sa.append(&#34;rect&#34;)
         .attr({
             rx      : 0,
             ry      : 0,
             class   : &#34;selection&#34;,
             x       : p[0],
             y       : p[1],
             width   : 1,
             height  : 1
         })
      })
      .on(&#34;mousemove&#34;, function() {
         var s = sa.select(&#34;rect.selection&#34;);
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr(&#34;x&#34;), 10),
                     y       : parseInt(s.attr(&#34;y&#34;), 10),
                     width   : parseInt(s.attr(&#34;width&#34;), 10),
                     height  : parseInt(s.attr(&#34;height&#34;), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x &lt; 1 || (move.x*2&lt;d.width)) {
                 d.x = p[0];
                 d.width -= move.x;
             } else {
                 d.width = move.x;       
             }
      
             if(move.y &lt; 1 || (move.y*2&lt;d.height)) {
                 d.y = p[1];
                 d.height -= move.y;
             } else {
                 d.height = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll(&#39;.cell-selection.cell-selected&#39;).classed(&#34;cell-selected&#34;, false);
             d3.selectAll(&#34;.text-selection.text-selected&#34;).classed(&#34;text-selected&#34;,false);

             d3.selectAll(&#39;.cell&#39;).filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed(&#34;cell-selected&#34;) &amp;&amp; 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize &gt;= d.x &amp;&amp; (this.x.baseVal.value)&lt;=d.x+d.width &amp;&amp; 
                     (this.y.baseVal.value)+cellSize &gt;= d.y &amp;&amp; (this.y.baseVal.value)&lt;=d.y+d.height
                 ) {
      
                     d3.select(this)
                     .classed(&#34;cell-selection&#34;, true)
                     .classed(&#34;cell-selected&#34;, true);

                     d3.select(&#34;.r&#34;+(cell_d.row-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);

                     d3.select(&#34;.c&#34;+(cell_d.col-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);
                 }
             });
         }
      })
      .on(&#34;mouseup&#34;, function() {
            // remove selection frame
         sa.selectAll(&#34;rect.selection&#34;).remove();
      
             // remove temporary selection marker class
         d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
         d3.selectAll(&#34;.text-selection&#34;).classed(&#34;text-selection&#34;,false);
      })
      .on(&#34;mouseout&#34;, function() {
         if(d3.event.relatedTarget.tagName==&#39;html&#39;) {
                 // remove selection frame
             sa.selectAll(&#34;rect.selection&#34;).remove();
                 // remove temporary selection marker class
             d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
             d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-selected&#34;,false);
         }
      })
      ;
});
&lt;/script&gt;
</description>
    </item>
    
    <item>
      <title>Visualizing Video Games Throughout History</title>
      <link>https://mikeleeco.github.io/posts/2015-06-10-video-games-interactive/</link>
      <pubDate>Wed, 10 Jun 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-06-10-video-games-interactive/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;Call of Duty :: Frank Underwood // Frogger :: George Costanza // Shinobi :: Wu-Tang Clan // Super Nintendo &amp;amp; Sega Genesis :: &lt;a href=&#34;https://youtu.be/CHio4lLOhKc?t=2m32s&#34;&gt;???&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Video games have long infiltrated popular culture. This article will attempt to explain that reach. Inspired by FiveThirtyEight&#39;s great article &lt;a href=&#34;http://fivethirtyeight.com/features/designing-the-best-board-game-on-the-planet/&#34;&gt;&#34;Designing the Best Board Game on the Planet&#34;&lt;/a&gt;, I set out to extend this methodology to video games. The focus of 538&#39;s research related to a robust data set pulled from &lt;a href=&#34;http://boardgamegeek.com/&#34;&gt;BoardGameGeek&lt;/a&gt;, an exhaustive collection of board games contributed by it&#39;s passionate users. I set out to find a similar user-contributed dataset. and settled on the &lt;a href=&#34;https://www.mobygames.com/&#34;&gt;MobyGames&lt;/a&gt; video games database.

&lt;p&gt;
Created in 1999 by &lt;a href=&#34;https://www.mobygames.com/info/faq5&#34;&gt;Jim Leonard&lt;/a&gt; to catalogue titles and connect games to their developers and fans, the database has grown to nearly 50,000 games. Ratings, images, and other details are contributed by users. Though there has been management changes leading to some contributor vitriol in recent years, the site is on stable footing and recently surpassed 50,000 unique games.
&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Method&lt;/h3&gt;
&lt;p&gt;
Using the R package &amp;lsquo;rvest&amp;rsquo; I scraped the site&amp;rsquo;s complete game list &lt;a href=&#34;http://www.mobygames.com/browse/games/list-games/&#34;&gt;html table&lt;/a&gt;, then used each game&amp;rsquo;s URL to scrape additional game information from their profile pages. To avoid issues with replicate game titles the URL was used as a unique reference ID for each title - for example, &lt;b&gt;007: The World is Not Enough&lt;/b&gt; has &lt;a href=&#34;http://www.mobygames.com/game/007-the-world-is-not-enough&#34;&gt;three&lt;/a&gt; &lt;a href=&#34;http://www.mobygames.com/game/007-the-world-is-not-enough_&#34;&gt;unique&lt;/a&gt; &lt;a href=&#34;http://www.mobygames.com/game/007-the-world-is-not-enough__&#34;&gt;pages&lt;/a&gt; containing details for each system for which it was released. Each game&amp;rsquo;s profile follows a similar format which made it effective for scraping, but specific genres of games used atypical formatting, requiring a good deal of database cleansing. The guideline that 80% of the work with data involves cleaning is no expection here. We&amp;rsquo;re left with a database of 50,021 games. Check out the code I used to pull and clean the data on &lt;a href=&#34;https://github.com/mikeleeco/Mobygames-Scraper/blob/master/MobygamesScraper.R&#34;&gt;my Github page&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
Let&amp;rsquo;s dive into what the numbers tell us.
&lt;/p&gt;&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Ratings&lt;/h3&gt;
&lt;p&gt;
MobyGames aggregates two sources to formulate their video game ratings: users and critics. User ratings are determined on a 0 to 5 scale and are contributed by an individual&amp;rsquo;s subjective rating of a particular game. Critic ratings are reviews from magazines, entertainment websites, and other online video game forums. A weighted average of these individual critics formulate the site&amp;rsquo;s &amp;ldquo;MobyRank&amp;rdquo; score. For this article I gave equal importance to user and critic ratings to ascertain each game&amp;rsquo;s overall rating, simply averaging the two scores into one total rating. Of the 50,000+ games, a total of 9224 had either user or critics ratings, ranging in years from 1976-2015. In the scatterplot below you&amp;rsquo;ll see the combined Mobygames ratings by date of original publication.
&lt;/p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/gamerank.png&#34; class=&#34;img-responsive center-block center-block&#34;&gt;&lt;/p&gt;

&lt;p&gt;

That looks pretty sharp, but in the spirit of video games, lets make it a bit more...8-bit.
&lt;/p&gt;
&lt;p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/mean_game_ranking_2d.png&#34; class=&#34;img-responsive center-block&#34;&gt;

&lt;/p&gt;

&lt;p&gt;
As you can see, very little has changed in a video game&#39;s reception by year of distribution. There is a mild increase in ratings by year since video games came into prominence. This displays an interesting contrast compared to 538&#39;s article on board games, which described the possibility that recent years might be considered &#34;the golden age of serious board gaming.&#34; I&#39;d hypothesize that this is effect is due to the platform these entertainment options are consumed. Board games are easily compared; Settlers of Catan and Monopoly are using equal technology, though one is deemed of a higher quality sinced it&#39;s final product is more innovative in using similar tools. Video games are influenced by the effects of advances in technology. Objectively, you can&#39;t compare &lt;a href=&#34;https://www.mobygames.com/game/pong____&#34;&gt;Pong!&lt;/a&gt; to &lt;a href=&#34;https://www.mobygames.com/game/mario-tennis&#34;&gt;Mario Tennis&lt;/a&gt;; you have to consider the technology of the day. Keeping that in mind, below you&#39;ll see the top 11 games by the average user/critics score:
&lt;/p&gt;
&lt;p&gt;
&lt;p&gt;&lt;div class=&#34;table-responsive&#34;&gt;&lt;table class=&#34;table table-hover&#34;&gt;&lt;tr class=&#34;info&#34;&gt;&lt;th&gt;Title&lt;/th&gt;&lt;th&gt;Year&lt;/th&gt;&lt;th&gt;Publisher&lt;/th&gt;&lt;th&gt;Genre&lt;/th&gt;&lt;th&gt;Platform&lt;/th&gt;&lt;th&gt;Rating&lt;/th&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Bayonetta 2&lt;/td&gt;&lt;td&gt;2014&lt;/td&gt;&lt;td&gt;Nintendo of America Inc.&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Wii U&lt;/td&gt;&lt;td&gt;94.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Metroid Prime Trilogy&lt;/td&gt;&lt;td&gt;2009&lt;/td&gt;&lt;td&gt;Nintendo of America Inc., Nintendo of Europe GmbH&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Wii, Wii U&lt;/td&gt;&lt;td&gt;94.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Super Mario Galaxy 2&lt;/td&gt;&lt;td&gt;2010&lt;/td&gt;&lt;td&gt;Nintendo Co., Ltd., Nintendo of America Inc., Nintendo of Europe GmbH&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Wii, Wii U&lt;/td&gt;&lt;td&gt;94.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;ESPN NFL 2K5&lt;/td&gt;&lt;td&gt;2004&lt;/td&gt;&lt;td&gt;Global Star Software Inc., SEGA Europe Ltd., SEGA of America, Inc.&lt;/td&gt;&lt;td&gt;Sports&lt;/td&gt;&lt;td&gt;PlayStation 2, Xbox&lt;/td&gt;&lt;td&gt;93.75&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;World Series Baseball 2K3&lt;/td&gt;&lt;td&gt;2003&lt;/td&gt;&lt;td&gt;SEGA of America, Inc.&lt;/td&gt;&lt;td&gt;Sports&lt;/td&gt;&lt;td&gt;PlayStation 2, Xbox&lt;/td&gt;&lt;td&gt;93.75&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Final Fantasy X | X-2 HD Remaster&lt;/td&gt;&lt;td&gt;2013&lt;/td&gt;&lt;td&gt;Square Enix Co., Ltd., Square Enix, Inc.&lt;/td&gt;&lt;td&gt;Role-Playing (RPG)&lt;/td&gt;&lt;td&gt;PlayStation 3, PS Vita&lt;/td&gt;&lt;td&gt;93.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Grand Theft Auto V&lt;/td&gt;&lt;td&gt;2013&lt;/td&gt;&lt;td&gt;Rockstar Games, Inc.&lt;/td&gt;&lt;td&gt;Action, Racing / Driving&lt;/td&gt;&lt;td&gt;PlayStation 3, PlayStation 4, Windows, Xbox 360, Xbox One&lt;/td&gt;&lt;td&gt;93.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Sins of a Solar Empire: Trinity&lt;/td&gt;&lt;td&gt;2010&lt;/td&gt;&lt;td&gt;1C-SoftClub, rondomedia Marketing &amp; Vertriebs GmbH, Snowball Studios, Stardock Entertainment, Inc.&lt;/td&gt;&lt;td&gt;Strategy&lt;/td&gt;&lt;td&gt;Windows&lt;/td&gt;&lt;td&gt;93.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Super Mario Bros.&lt;/td&gt;&lt;td&gt;1985&lt;/td&gt;&lt;td&gt;Nintendo Co., Ltd., Nintendo of America Inc., Nintendo of Europe GmbH&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Arcade, Game Boy Advance, NES, Nintendo 3DS, Wii, Wii U&lt;/td&gt;&lt;td&gt;93.33&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;RalliSport Challenge 2&lt;/td&gt;&lt;td&gt;2004&lt;/td&gt;&lt;td&gt;Microsoft Game Studios&lt;/td&gt;&lt;td&gt;Racing / Driving&lt;/td&gt;&lt;td&gt;Xbox&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Vampire Chronicle for Matching Service&lt;/td&gt;&lt;td&gt;2000&lt;/td&gt;&lt;td&gt;Capcom Co., Ltd.&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Dreamcast&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/p&gt;

&lt;p&gt;
Though the earlier graph illustrated game ratings haven&#39;t changed much over the last 40 years, 10 out of the top 11 games have been released within the past 15 years. This may be indicative of a recency bias, a publisher&#39;s increased understanding of qualities that facilitate more highly regarded games, or some other factor. Many of these best game have a so-called &#34;replay value&#34;, such as RPGs, infinite universes, or sports franchises.
&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Themes&lt;/h3&gt;
&lt;p&gt;
Mobygames uses 43 themes to delineate aspects of games, which is detailed in their online &lt;a href=&#34;http://www.mobygames.com/glossary/genres&#34;&gt;glossary&lt;/a&gt;. While some games have multiple themes, others have no listed theme - it&amp;rsquo;s unclear whether this is due to user-contribution error or the unique qualities of some games. Super Mario 3, one of the highest-regarded games ever created, doesn&amp;rsquo;t list a theme; it doesn&amp;rsquo;t easily fall into any of the 43 listed genres either. Arcade? Puzzle-solving? Probably neither.
&lt;/p&gt;
&lt;p&gt;
Of the 38,615 games listing at least one theme, the image below shows the distribution of themes as a percentage decimal.
&lt;/p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/games_by_theme.png&#34; class=&#34;img-responsive center-block&#34;&gt;&lt;/p&gt;

&lt;p&gt;

I was also curious which themes were most likely to occur simultaneously. Think of the following interactive as such: &#34;If I were to randomly select from the pool of Arcade games, what is the likelihood that it also has a _____ theme?&#34; &lt;i&gt;Click the Themes on the left side to reorganize the heatmap, and hover over the cells to gain further details&lt;/i&gt;.
&lt;/p&gt;
&lt;style&gt;
      svg *::selection {
         background : transparent;
         width: 700px;
         height: 500px;
         margin-left: 30px;
         font-size: 13px;   
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 9pt;
        font-family: Andale Mono, Andale Mono;
        fill: #4a4a4a;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: Andale Mono;
        font-size: 12px;
        line-height: 20px;
      }
&lt;/style&gt;


&lt;div id=&#34;tooltip&#34; class=&#34;hidden&#34;&gt;
    &lt;p&gt;&lt;span id=&#34;value&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;script src=&#34;http://d3js.org/d3.v3.min.js&#34;&gt;&lt;/script&gt;



&lt;div id=&#34;chart1&#34; class=&#34;text-center&#34;&gt;&lt;/div&gt;

&lt;script&gt;
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  col_number=43;
  row_number=43;
  width = cellSize*col_number, // - margin.left - margin.right,
  height = cellSize*row_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(width / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = [&#39;#FFFFFF&#39;,&#39;#F1EEF6&#39;,&#39;#E6D3E1&#39;,&#39;#DBB9CD&#39;,&#39;#D19EB9&#39;,&#39;#C684A4&#39;,&#39;#BB6990&#39;,&#39;#B14F7C&#39;,&#39;#A63467&#39;,&#39;#9B1A53&#39;,&#39;#91003F&#39;];
  hcrow = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  hccol = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rowLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;],
  colLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;];

d3.csv(&#34;/data/data_heatmap.csv&#34;,
function(d) {
  return {
    row:   +d.row_idx,
    col:   +d.col_idx,
    value: +d.vgfreq
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var charta = d3.select(&#34;div#chart1&#34;).append(&#34;svg&#34;)
      .attr(&#34;width&#34;, width + margin.left + margin.right)
      .attr(&#34;height&#34;, height + margin.top + margin.bottom)
      .append(&#34;g&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34; + margin.left + &#34;,&#34; + margin.top + &#34;)&#34;)
      ;
  var rowSortOrder=false;
  var colSortOrder=false;
  var rowLabels = charta.append(&#34;g&#34;)
      .selectAll(&#34;.rowLabelg&#34;)
      .data(rowLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hcrow.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;end&#34;)
      .attr(&#34;transform&#34;, &#34;translate(-6,&#34; + cellSize / 1.5 + &#34;)&#34;)
      .attr(&#34;class&#34;, function (d,i) { return &#34;rowLabel mono r&#34;+i;} ) 
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {rowSortOrder=!rowSortOrder; sortbylabel(&#34;r&#34;,i,rowSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var colLabels = charta.append(&#34;g&#34;)
      .selectAll(&#34;.colLabelg&#34;)
      .data(colLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hccol.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;left&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34;+cellSize/2 + &#34;,-6) rotate (-90)&#34;)
      .attr(&#34;class&#34;,  function (d,i) { return &#34;colLabel mono c&#34;+i;} )
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {colSortOrder=!colSortOrder;  sortbylabel(&#34;c&#34;,i,colSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var heatMap = charta.append(&#34;g&#34;).attr(&#34;class&#34;,&#34;g3&#34;)
        .selectAll(&#34;.cellg&#34;)
        .data(data,function(d){return d.row+&#34;:&#34;+d.col;})
        .enter()
        .append(&#34;rect&#34;)
        .attr(&#34;x&#34;, function(d) { return hccol.indexOf(d.col) * cellSize; })
        .attr(&#34;y&#34;, function(d) { return hcrow.indexOf(d.row) * cellSize; })
        .attr(&#34;class&#34;, function(d){return &#34;cell cell-border cr&#34;+(d.row-1)+&#34; cc&#34;+(d.col-1);})
        .attr(&#34;width&#34;, cellSize)
        .attr(&#34;height&#34;, cellSize)
        .style(&#34;fill&#34;, function(d) { return colorScale(d.value); })
        /* .on(&#34;click&#34;, function(d) {
               var rowtext=d3.select(&#34;.r&#34;+(d.row-1));
               if(rowtext.classed(&#34;text-selected&#34;)==false){
                   rowtext.classed(&#34;text-selected&#34;,true);
               }else{
                   rowtext.classed(&#34;text-selected&#34;,false);
               }
        })*/
        .on(&#34;mouseover&#34;, function(d){
               //highlight text
               d3.select(this).classed(&#34;cell-hover&#34;,true);
               d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-highlight&#34;,function(r,ri){ return ri==(d.row-1);});
               d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-highlight&#34;,function(c,ci){ return ci==(d.col-1);});
        
               //Update the tooltip position and value
               d3.select(&#34;#tooltip&#34;)
                 .style(&#34;left&#34;, (d3.event.pageX+10) + &#34;px&#34;)
                 .style(&#34;top&#34;, (d3.event.pageY-10) + &#34;px&#34;)
                 .select(&#34;#value&#34;)
                 .text(d.value+&#34;% of &#34;+rowLabel[d.row-1]+&#34; games have a &#34;+colLabel[d.col-1]+&#34; theme&#34;);  
               //Show the tooltip
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, false);
        })
        .on(&#34;mouseout&#34;, function(){
               d3.select(this).classed(&#34;cell-hover&#34;,false);
               d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, true);
        })
        ;

  var legend = charta.selectAll(&#34;.legend&#34;)
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append(&#34;g&#34;)
      .attr(&#34;class&#34;, &#34;legend&#34;);
 
  legend.append(&#34;rect&#34;)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, height+(cellSize*2))
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;height&#34;, cellSize)
    .style(&#34;fill&#34;, function(d, i) { return colors[i]; });
 
  legend.append(&#34;text&#34;)
    .attr(&#34;class&#34;, &#34;mono&#34;)
    .text(function(d) { return d; })
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, height + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rORc,i,sortOrder){
       var t = charta.transition().duration(1500);
       var vgfreq=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(&#34;.c&#34;+rORc+i) 
         .filter(function(ce){
            vgfreq.push(ce.value);
          })
       ;
       if(rORc==&#34;r&#34;){ // sort vgfreq of a gene
         sorted=d3.range(col_number).sort(function(a,b){ if(sortOrder){ return vgfreq[b]-vgfreq[a];}else{ return vgfreq[a]-vgfreq[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;x&#34;, function(d) { return sorted.indexOf(d.col-1) * cellSize; })
           ;
         t.selectAll(&#34;.colLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(row_number).sort(function(a,b){if(sortOrder){ return vgfreq[b]-vgfreq[a];}else{ return vgfreq[a]-vgfreq[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;y&#34;, function(d) { return sorted.indexOf(d.row-1) * cellSize; })
           ;
         t.selectAll(&#34;.rowLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select(&#34;#order&#34;).on(&#34;change&#34;,function(){
    order(this.value);
  });
  

  var sa=d3.select(&#34;.g3&#34;)
      .on(&#34;mousedown&#34;, function() {
          if( !d3.event.altKey) {
             d3.selectAll(&#34;.cell-selected&#34;).classed(&#34;cell-selected&#34;,false);
             d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-selected&#34;,false);
          }
         var p = d3.mouse(this);
         sa.append(&#34;rect&#34;)
         .attr({
             rx      : 0,
             ry      : 0,
             class   : &#34;selection&#34;,
             x       : p[0],
             y       : p[1],
             width   : 1,
             height  : 1
         })
      })
      .on(&#34;mousemove&#34;, function() {
         var s = sa.select(&#34;rect.selection&#34;);
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr(&#34;x&#34;), 10),
                     y       : parseInt(s.attr(&#34;y&#34;), 10),
                     width   : parseInt(s.attr(&#34;width&#34;), 10),
                     height  : parseInt(s.attr(&#34;height&#34;), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x &lt; 1 || (move.x*2&lt;d.width)) {
                 d.x = p[0];
                 d.width -= move.x;
             } else {
                 d.width = move.x;       
             }
      
             if(move.y &lt; 1 || (move.y*2&lt;d.height)) {
                 d.y = p[1];
                 d.height -= move.y;
             } else {
                 d.height = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll(&#39;.cell-selection.cell-selected&#39;).classed(&#34;cell-selected&#34;, false);
             d3.selectAll(&#34;.text-selection.text-selected&#34;).classed(&#34;text-selected&#34;,false);

             d3.selectAll(&#39;.cell&#39;).filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed(&#34;cell-selected&#34;) &amp;&amp; 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize &gt;= d.x &amp;&amp; (this.x.baseVal.value)&lt;=d.x+d.width &amp;&amp; 
                     (this.y.baseVal.value)+cellSize &gt;= d.y &amp;&amp; (this.y.baseVal.value)&lt;=d.y+d.height
                 ) {
      
                     d3.select(this)
                     .classed(&#34;cell-selection&#34;, true)
                     .classed(&#34;cell-selected&#34;, true);

                     d3.select(&#34;.r&#34;+(cell_d.row-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);

                     d3.select(&#34;.c&#34;+(cell_d.col-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);
                 }
             });
         }
      })
      .on(&#34;mouseup&#34;, function() {
            // remove selection frame
         sa.selectAll(&#34;rect.selection&#34;).remove();
      
             // remove temporary selection marker class
         d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
         d3.selectAll(&#34;.text-selection&#34;).classed(&#34;text-selection&#34;,false);
      })
      .on(&#34;mouseout&#34;, function() {
         if(d3.event.relatedTarget.tagName==&#39;html&#39;) {
                 // remove selection frame
             sa.selectAll(&#34;rect.selection&#34;).remove();
                 // remove temporary selection marker class
             d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
             d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-selected&#34;,false);
         }
      })
      ;
});
&lt;/script&gt;
&lt;p&gt;

These two graphics make it evident that Puzzle-Solving, Shooter, Sci-Fi, and Arcade themed games are at a higher rate than other games.
&lt;/p&gt;
&lt;p&gt;
Before moving on, here are a couple interesting observations, from most to least sensical:
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;68% of Adult-themed games have an Anime/Manga theme, while only 20% of Anime/Manga-themed games are adult themed.&lt;/li&gt;&lt;li&gt;Only 46% of Helicopter games are Flight-themed - How could that be?!? What are you doing in these other 54% of Helicopter games?&lt;/li&gt;&lt;li&gt;3% of Rhythm/Music games are Shooter-themed. No word to report on the Samba de Amigo/Halo crossover though.&lt;/li&gt;&lt;li&gt;There is one Adult-themed Tank game. What could this possibly entail, you ask? Do yourself a favor and read the &lt;a href=&#34;http://www.mobygames.com/game/space-fuck&#34;&gt;game description&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
&lt;/p&gt;
&lt;h3&gt;Themes&lt;/h3&gt;
&lt;p&gt;

Mobygames uses 8 genres to categorize game types. The vast majority of games have at least one genre, many having multiple. Shovelware games, which are packages of dissimilar games (think &lt;b&gt;The 1000 Best Windows 95 Games Bundle&lt;/b&gt;) are responsible for many of the missing titles.
&lt;/p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/games_by_genre.png&#34; class=&#34;img-responsive center-block&#34;&gt;

&lt;p&gt;

It&#39;s a bit unexpected that Action games have such a dominating share of the market. This is likely due to its emphasis on reflex-based gameplay, which is a component of most of the other genres - especially racing and sports games.
&lt;/p&gt;
&lt;p&gt;
Similar to the theme interactive, I was curious which themes were most likely to occur in a given genre of game. Think of the following interactive as such: &#34;If I were to randomly select from the pool of Educational games, what is the likelihood that it has a _____ theme?&#34; &lt;i&gt;Click the Genres on the left side to reorganize the heatmap, and hover over the cells to gain further details&lt;/i&gt;.
&lt;/p&gt;
&lt;div id=&#34;chart2&#34; class=&#34;text-center&#34;&gt;&lt;/div&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  cl_number=43;
  rw_number=8;
  widthy = cellSize*cl_number, // - margin.left - margin.right,
  heighty = cellSize*rw_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(widthy / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = [&#39;#FFFFFF&#39;,&#39;#F1EEF6&#39;,&#39;#E6D3E1&#39;,&#39;#DBB9CD&#39;,&#39;#D19EB9&#39;,&#39;#C684A4&#39;,&#39;#BB6990&#39;,&#39;#B14F7C&#39;,&#39;#A63467&#39;,&#39;#9B1A53&#39;,&#39;#91003F&#39;];
  hcrw = [1,2,3,4,5,6,7,8],
  hccl = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rwLabel = [&#39;Action&#39;,&#39;Adventure&#39;,&#39;Educational&#39;,&#39;RPG&#39;,&#39;Racing&#39;,&#39;Simulation&#39;,&#39;Sports&#39;,&#39;Strategy&#39;],
  clLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;];

d3.csv(&#34;/data/data_heatmap2.csv&#34;,
function(d) {
  return {
    rw:   +d.rw_id,
    cl:   +d.cl_id,
    value: +d.vgfre
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var chartb = d3.select(&#34;div#chart2&#34;).append(&#34;svg&#34;)
      .attr(&#34;width&#34;, widthy + margin.left + margin.right)
      .attr(&#34;height&#34;, heighty + margin.top + margin.bottom)
      .append(&#34;g&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34; + margin.left + &#34;,&#34; + margin.top + &#34;)&#34;)
      ;

  var rwSortOrder=false;
  var rwLabels = chartb.append(&#34;g&#34;)
      .selectAll(&#34;.rwLabelg&#34;)
      .data(rwLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hcrw.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;end&#34;)
      .attr(&#34;transform&#34;, &#34;translate(-6,&#34; + cellSize / 1.5 + &#34;)&#34;)
      .attr(&#34;class&#34;, function (d,i) { return &#34;rwLabel mono rr&#34;+i;} ) 
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {rwSortOrder=!rwSortOrder; sortbylabel(&#34;rr&#34;,i,rwSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var clSortOrder=false;
  var clLabels = chartb.append(&#34;g&#34;)
      .selectAll(&#34;.clLabelg&#34;)
      .data(clLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hccl.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;left&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34;+cellSize/2 + &#34;,-6) rotate (-90)&#34;)
      .attr(&#34;class&#34;,  function (d,i) { return &#34;clLabel mono cc&#34;+i;} )
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {clSortOrder=!clSortOrder;  sortbylabel(&#34;cc&#34;,i,clSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var heat = chartb.append(&#34;g&#34;).attr(&#34;class&#34;,&#34;g3&#34;)
        .selectAll(&#34;.cellg&#34;)
        .data(data,function(d){return d.rw+&#34;:&#34;+d.cl;})
        .enter()
        .append(&#34;rect&#34;)
        .attr(&#34;x&#34;, function(d) { return hccl.indexOf(d.cl) * cellSize; })
        .attr(&#34;y&#34;, function(d) { return hcrw.indexOf(d.rw) * cellSize; })
        .attr(&#34;class&#34;, function(d){return &#34;cell cell-border ccrr&#34;+(d.rw-1)+&#34; cccc&#34;+(d.cl-1);})
        .attr(&#34;width&#34;, cellSize)
        .attr(&#34;height&#34;, cellSize)
        .style(&#34;fill&#34;, function(d) { return colorScale(d.value); })
        /* .on(&#34;click&#34;, function(d) {
               var rwtext=d3.select(&#34;.rr&#34;+(d.rw-1));
               if(rwtext.classed(&#34;text-selected&#34;)==false){
                   rwtext.classed(&#34;text-selected&#34;,true);
               }else{
                   rwtext.classed(&#34;text-selected&#34;,false);
               }
        })*/
        .on(&#34;mouseover&#34;, function(d){
               //highlight text
               d3.select(this).classed(&#34;cell-hover&#34;,true);
               d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-highlight&#34;,function(r,ri){ return ri==(d.rw-1);});
               d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-highlight&#34;,function(c,ci){ return ci==(d.cl-1);});
        
               //Update the tooltip position and value
               d3.select(&#34;#tooltip&#34;)
                 .style(&#34;left&#34;, (d3.event.pageX+10) + &#34;px&#34;)
                 .style(&#34;top&#34;, (d3.event.pageY-10) + &#34;px&#34;)
                 .select(&#34;#value&#34;)
                 .text(d.value+&#34;% of &#34;+rwLabel[d.rw-1]+&#34; games have a &#34;+clLabel[d.cl-1]+&#34; theme&#34;);  
               //Show the tooltip
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, false);
        })
        .on(&#34;mouseout&#34;, function(){
               d3.select(this).classed(&#34;cell-hover&#34;,false);
               d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, true);
        })
        ;

  var legend = chartb.selectAll(&#34;.legend&#34;)
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append(&#34;g&#34;)
      .attr(&#34;class&#34;, &#34;legend&#34;);
 
  legend.append(&#34;rect&#34;)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, heighty+(cellSize*2))
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;height&#34;, cellSize)
    .style(&#34;fill&#34;, function(d, i) { return colors[i]; });
 
  legend.append(&#34;text&#34;)
    .attr(&#34;class&#34;, &#34;mono&#34;)
    .text(function(d) { return d; })
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, heighty + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rrORcc,i,sortOrder){
       var t = chartb.transition().duration(1500);
       var vgfre=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(&#34;.cc&#34;+rrORcc+i) 
         .filter(function(ce){
            vgfre.push(ce.value);
          })
       ;
       if(rrORcc==&#34;rr&#34;){ // sort vgfre of a gene
         sorted=d3.range(cl_number).sort(function(a,b){ if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;x&#34;, function(d) { return sorted.indexOf(d.cl-1) * cellSize; })
           ;
         t.selectAll(&#34;.clLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(rw_number).sort(function(a,b){if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;y&#34;, function(d) { return sorted.indexOf(d.rw-1) * cellSize; })
           ;
         t.selectAll(&#34;.rwLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select(&#34;#order&#34;).on(&#34;change&#34;,function(){
    order(this.value);
  });
  

  var sa=d3.select(&#34;.g3&#34;)
      .on(&#34;mousedown&#34;, function() {
          if( !d3.event.altKey) {
             d3.selectAll(&#34;.cell-selected&#34;).classed(&#34;cell-selected&#34;,false);
             d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-selected&#34;,false);
          }
         var p = d3.mouse(this);
         sa.append(&#34;rect&#34;)
         .attr({
             rx      : 0,
             ry      : 0,
             class   : &#34;selection&#34;,
             x       : p[0],
             y       : p[1],
             widthy   : 1,
             heighty  : 1
         })
      })
      .on(&#34;mousemove&#34;, function() {
         var s = sa.select(&#34;rect.selection&#34;);
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr(&#34;x&#34;), 10),
                     y       : parseInt(s.attr(&#34;y&#34;), 10),
                     widthy   : parseInt(s.attr(&#34;width&#34;), 10),
                     heighty  : parseInt(s.attr(&#34;height&#34;), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x &lt; 1 || (move.x*2&lt;d.widthy)) {
                 d.x = p[0];
                 d.widthy -= move.x;
             } else {
                 d.widthy = move.x;       
             }
      
             if(move.y &lt; 1 || (move.y*2&lt;d.heighty)) {
                 d.y = p[1];
                 d.heighty -= move.y;
             } else {
                 d.heighty = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll(&#39;.cell-selection.cell-selected&#39;).classed(&#34;cell-selected&#34;, false);
             d3.selectAll(&#34;.text-selection.text-selected&#34;).classed(&#34;text-selected&#34;,false);

             d3.selectAll(&#39;.cell&#39;).filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed(&#34;cell-selected&#34;) &amp;&amp; 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize &gt;= d.x &amp;&amp; (this.x.baseVal.value)&lt;=d.x+d.widthy &amp;&amp; 
                     (this.y.baseVal.value)+cellSize &gt;= d.y &amp;&amp; (this.y.baseVal.value)&lt;=d.y+d.heighty
                 ) {
      
                     d3.select(this)
                     .classed(&#34;cell-selection&#34;, true)
                     .classed(&#34;cell-selected&#34;, true);

                     d3.select(&#34;.rr&#34;+(cell_d.rw-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);

                     d3.select(&#34;.cc&#34;+(cell_d.cl-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);
                 }
             });
         }
      })
      .on(&#34;mouseup&#34;, function() {
            // remove selection frame
         sa.selectAll(&#34;rect.selection&#34;).remove();
      
             // remove temporary selection marker class
         d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
         d3.selectAll(&#34;.text-selection&#34;).classed(&#34;text-selection&#34;,false);
      })
      .on(&#34;mouseout&#34;, function() {
         if(d3.event.relatedTarget.tagName==&#39;html&#39;) {
                 // remove selection frame
             sa.selectAll(&#34;rect.selection&#34;).remove();
                 // remove temporary selection marker class
             d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
             d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-selected&#34;,false);
         }
      })
      ;
});
&lt;/script&gt;

&lt;p&gt;
The data set is quite large with and there is much to still be explored, so stayed tuned to the site for additional posts!
&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;
Have feedback, questions, or want to see something else added? Check out the code I used to create &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/blob/master/_posts/2015-06-10-video-games-interactive.md&#34;&gt;this page&lt;/a&gt; or fork my repository to propose changes. &lt;a class=&#34;btn btn-primary&#34; href=&#34;https://github.com/mikeleeco/Mobygames-Scraper/fork&#34;&gt;Edit My Code&lt;/a&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Kris Bryant Performance Projection</title>
      <link>https://mikeleeco.github.io/posts/2015-03-25-bryant-visualization/</link>
      <pubDate>Wed, 25 Mar 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-03-25-bryant-visualization/</guid>
      <description>&lt;body&gt;


&lt;div class=&#34;container-fluid&#34;&gt;

&lt;p&gt;A dynamic rCharts visualization displaying performance projections for Kris Bryant based on his 10 most similar career MiLB comparable players. Read more at &lt;a href=&#34;http://mikelee.co/posts/milb-similarity-scores/&#34; class=&#34;uri&#34;&gt;http://mikelee.co/posts/milb-similarity-scores/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can change the y-axis parameters by selecting the performance measure youd like to visualize. Additionally, hover over the points to see player details, and select players in the legend to show or remove their data from the graph.&lt;/p&gt;
&lt;iframe src=&#34;https://mikeleeco.github.io/knitr/bryant.html&#34; , width=&#34;100%,&#34; height=&#34;550px&#34;&gt;
&lt;/iframe&gt;
&lt;p&gt;
&lt;div class=&#34;table-responsive&#34;&gt;
&lt;table class=&#34;table table-hover&#34;&gt;
&lt;th&gt;
Year
&lt;/th&gt;
&lt;th&gt;
Age
&lt;/th&gt;
&lt;th&gt;
LevEq
&lt;/th&gt;
&lt;th&gt;
G
&lt;/th&gt;
&lt;th&gt;
PA
&lt;/th&gt;
&lt;th&gt;
AB
&lt;/th&gt;
&lt;th&gt;
R
&lt;/th&gt;
&lt;th&gt;
H
&lt;/th&gt;
&lt;th&gt;
X2B
&lt;/th&gt;
&lt;th&gt;
X3B
&lt;/th&gt;
&lt;th&gt;
HR
&lt;/th&gt;
&lt;th&gt;
RBI
&lt;/th&gt;
&lt;th&gt;
SB
&lt;/th&gt;
&lt;th&gt;
CS
&lt;/th&gt;
&lt;th&gt;
BB
&lt;/th&gt;
&lt;th&gt;
SO
&lt;/th&gt;
&lt;th&gt;
BA
&lt;/th&gt;
&lt;th&gt;
OBP
&lt;/th&gt;
&lt;th&gt;
SLG
&lt;/th&gt;
&lt;th&gt;
OPS
&lt;/th&gt;
&lt;th&gt;
Count
&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2015
&lt;/td&gt;
&lt;td&gt;
23
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
130
&lt;/td&gt;
&lt;td&gt;
548
&lt;/td&gt;
&lt;td&gt;
489
&lt;/td&gt;
&lt;td&gt;
76
&lt;/td&gt;
&lt;td&gt;
138
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;td&gt;
24
&lt;/td&gt;
&lt;td&gt;
83
&lt;/td&gt;
&lt;td&gt;
9
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
47
&lt;/td&gt;
&lt;td&gt;
105
&lt;/td&gt;
&lt;td&gt;
0.282
&lt;/td&gt;
&lt;td&gt;
0.35
&lt;/td&gt;
&lt;td&gt;
0.515
&lt;/td&gt;
&lt;td&gt;
0.865
&lt;/td&gt;
&lt;td&gt;
10
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2016
&lt;/td&gt;
&lt;td&gt;
24
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
132
&lt;/td&gt;
&lt;td&gt;
551
&lt;/td&gt;
&lt;td&gt;
492
&lt;/td&gt;
&lt;td&gt;
77
&lt;/td&gt;
&lt;td&gt;
140
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;td&gt;
23
&lt;/td&gt;
&lt;td&gt;
77
&lt;/td&gt;
&lt;td&gt;
8
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
49
&lt;/td&gt;
&lt;td&gt;
107
&lt;/td&gt;
&lt;td&gt;
0.285
&lt;/td&gt;
&lt;td&gt;
0.354
&lt;/td&gt;
&lt;td&gt;
0.51
&lt;/td&gt;
&lt;td&gt;
0.864
&lt;/td&gt;
&lt;td&gt;
9
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2017
&lt;/td&gt;
&lt;td&gt;
25
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
115
&lt;/td&gt;
&lt;td&gt;
476
&lt;/td&gt;
&lt;td&gt;
424
&lt;/td&gt;
&lt;td&gt;
66
&lt;/td&gt;
&lt;td&gt;
121
&lt;/td&gt;
&lt;td&gt;
26
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
20
&lt;/td&gt;
&lt;td&gt;
72
&lt;/td&gt;
&lt;td&gt;
7
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
43
&lt;/td&gt;
&lt;td&gt;
89
&lt;/td&gt;
&lt;td&gt;
0.285
&lt;/td&gt;
&lt;td&gt;
0.356
&lt;/td&gt;
&lt;td&gt;
0.502
&lt;/td&gt;
&lt;td&gt;
0.859
&lt;/td&gt;
&lt;td&gt;
8
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2018
&lt;/td&gt;
&lt;td&gt;
26
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
129
&lt;/td&gt;
&lt;td&gt;
543
&lt;/td&gt;
&lt;td&gt;
478
&lt;/td&gt;
&lt;td&gt;
76
&lt;/td&gt;
&lt;td&gt;
135
&lt;/td&gt;
&lt;td&gt;
31
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
22
&lt;/td&gt;
&lt;td&gt;
73
&lt;/td&gt;
&lt;td&gt;
7
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
56
&lt;/td&gt;
&lt;td&gt;
93
&lt;/td&gt;
&lt;td&gt;
0.282
&lt;/td&gt;
&lt;td&gt;
0.363
&lt;/td&gt;
&lt;td&gt;
0.498
&lt;/td&gt;
&lt;td&gt;
0.861
&lt;/td&gt;
&lt;td&gt;
6
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2019
&lt;/td&gt;
&lt;td&gt;
27
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
148
&lt;/td&gt;
&lt;td&gt;
635
&lt;/td&gt;
&lt;td&gt;
569
&lt;/td&gt;
&lt;td&gt;
92
&lt;/td&gt;
&lt;td&gt;
169
&lt;/td&gt;
&lt;td&gt;
36
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
28
&lt;/td&gt;
&lt;td&gt;
94
&lt;/td&gt;
&lt;td&gt;
15
&lt;/td&gt;
&lt;td&gt;
6
&lt;/td&gt;
&lt;td&gt;
58
&lt;/td&gt;
&lt;td&gt;
104
&lt;/td&gt;
&lt;td&gt;
0.297
&lt;/td&gt;
&lt;td&gt;
0.365
&lt;/td&gt;
&lt;td&gt;
0.522
&lt;/td&gt;
&lt;td&gt;
0.887
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2020
&lt;/td&gt;
&lt;td&gt;
28
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
151
&lt;/td&gt;
&lt;td&gt;
647
&lt;/td&gt;
&lt;td&gt;
574
&lt;/td&gt;
&lt;td&gt;
87
&lt;/td&gt;
&lt;td&gt;
174
&lt;/td&gt;
&lt;td&gt;
38
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
25
&lt;/td&gt;
&lt;td&gt;
94
&lt;/td&gt;
&lt;td&gt;
11
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
64
&lt;/td&gt;
&lt;td&gt;
109
&lt;/td&gt;
&lt;td&gt;
0.303
&lt;/td&gt;
&lt;td&gt;
0.376
&lt;/td&gt;
&lt;td&gt;
0.51
&lt;/td&gt;
&lt;td&gt;
0.886
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2021
&lt;/td&gt;
&lt;td&gt;
29
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
127
&lt;/td&gt;
&lt;td&gt;
532
&lt;/td&gt;
&lt;td&gt;
475
&lt;/td&gt;
&lt;td&gt;
70
&lt;/td&gt;
&lt;td&gt;
130
&lt;/td&gt;
&lt;td&gt;
26
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
20
&lt;/td&gt;
&lt;td&gt;
77
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
47
&lt;/td&gt;
&lt;td&gt;
96
&lt;/td&gt;
&lt;td&gt;
0.274
&lt;/td&gt;
&lt;td&gt;
0.343
&lt;/td&gt;
&lt;td&gt;
0.472
&lt;/td&gt;
&lt;td&gt;
0.815
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2022
&lt;/td&gt;
&lt;td&gt;
30
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
143
&lt;/td&gt;
&lt;td&gt;
591
&lt;/td&gt;
&lt;td&gt;
525
&lt;/td&gt;
&lt;td&gt;
81
&lt;/td&gt;
&lt;td&gt;
141
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
21
&lt;/td&gt;
&lt;td&gt;
81
&lt;/td&gt;
&lt;td&gt;
10
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
56
&lt;/td&gt;
&lt;td&gt;
104
&lt;/td&gt;
&lt;td&gt;
0.269
&lt;/td&gt;
&lt;td&gt;
0.345
&lt;/td&gt;
&lt;td&gt;
0.461
&lt;/td&gt;
&lt;td&gt;
0.806
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2023
&lt;/td&gt;
&lt;td&gt;
31
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
159
&lt;/td&gt;
&lt;td&gt;
696
&lt;/td&gt;
&lt;td&gt;
620
&lt;/td&gt;
&lt;td&gt;
98
&lt;/td&gt;
&lt;td&gt;
163
&lt;/td&gt;
&lt;td&gt;
28
&lt;/td&gt;
&lt;td&gt;
6
&lt;/td&gt;
&lt;td&gt;
30
&lt;/td&gt;
&lt;td&gt;
93
&lt;/td&gt;
&lt;td&gt;
9
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
64
&lt;/td&gt;
&lt;td&gt;
120
&lt;/td&gt;
&lt;td&gt;
0.263
&lt;/td&gt;
&lt;td&gt;
0.336
&lt;/td&gt;
&lt;td&gt;
0.473
&lt;/td&gt;
&lt;td&gt;
0.808
&lt;/td&gt;
&lt;td&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2024
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
118
&lt;/td&gt;
&lt;td&gt;
440
&lt;/td&gt;
&lt;td&gt;
380
&lt;/td&gt;
&lt;td&gt;
48
&lt;/td&gt;
&lt;td&gt;
93
&lt;/td&gt;
&lt;td&gt;
22
&lt;/td&gt;
&lt;td&gt;
1
&lt;/td&gt;
&lt;td&gt;
14
&lt;/td&gt;
&lt;td&gt;
63
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
1
&lt;/td&gt;
&lt;td&gt;
46
&lt;/td&gt;
&lt;td&gt;
60
&lt;/td&gt;
&lt;td&gt;
0.245
&lt;/td&gt;
&lt;td&gt;
0.327
&lt;/td&gt;
&lt;td&gt;
0.418
&lt;/td&gt;
&lt;td&gt;
0.745
&lt;/td&gt;
&lt;td&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;p&gt;Be sure to bookmark my site to check out future visualizations!&lt;/p&gt;


&lt;/div&gt;

&lt;script&gt;

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $(&#39;tr.header&#39;).parent(&#39;thead&#39;).parent(&#39;table&#39;).addClass(&#39;table table-condensed&#39;);
});

&lt;/script&gt;

&lt;!-- dynamically load mathjax for compatibility with self-contained --&gt;
&lt;script&gt;
  (function () {
    var script = document.createElement(&#34;script&#34;);
    script.type = &#34;text/javascript&#34;;
    script.src  = &#34;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;;
    document.getElementsByTagName(&#34;head&#34;)[0].appendChild(script);
  })();
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</description>
    </item>
    
    <item>
      <title>Let&#39;s Make a Minor League Baseball Database!</title>
      <link>https://mikeleeco.github.io/posts/2015-02-23-milb-scraper-with-rvest/</link>
      <pubDate>Mon, 23 Feb 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-02-23-milb-scraper-with-rvest/</guid>
      <description>&lt;p&gt;
Baseball is a game of numbers, some more accessible than others. Rates, averages, linear weights, aging curves, and WAR are only a few of the myriad statistics influencing decision makers in MLB franchises. An endless amount of data is accessible to the average fan at many sites, most notably the &lt;a href=&#34;http://www.seanlahman.com/baseball-archive/statistics/&#34;&gt;Lahman Baseball Database&lt;/a&gt;, which is the most robust catalog of MLB player statistics available to the public.
&lt;/p&gt;
&lt;p&gt;
One area of relatively limited accessibility to the average fan is statistics for Minor League players. Though player statistics by position, year, and team are available at many sites, a thorough catalog of MiLB data akin to the Lahman database is unavailable. I wonder who &lt;a href=&#34;http://www.baseball-reference.com/minors/player.cgi?id=bryant001kri&#34;&gt;Kris Bryant&lt;/a&gt; would be most similar to? &lt;/p&gt;

&lt;p&gt;&lt;p&gt;What do you mean Baseball Reference doesn&#39;t calculate similarity scores for minor league players?&lt;/p&gt;&lt;/p&gt;

&lt;p&gt;&lt;a class=&#34;btn btn-success btn-lg btn-block&#34; href=&#34;https://www.youtube.com/watch?v=bnRrvOb0m-I&#34;&gt;As If Button&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;h2&gt;Let&#39;s make our own damn database!&lt;/h2&gt;&lt;/strong&gt;  
&lt;/p&gt;

&lt;p&gt;To make our database we&amp;rsquo;re going to use &lt;a href=&#34;https://github.com/hadley/rvest&#34;&gt;rvest&lt;/a&gt;, an R package designed by Hadley Wickham at RStudio [^1]. The package scrapes HTML from webpages and extracts it into readable data. Let&amp;rsquo;s load the necessary packages and go from there:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;#if you haven&#39;t done so already, install rvest from Wickham&#39;s github repository
# install.packages(&amp;quot;devtools&amp;quot;)
# install_github(&amp;quot;hadley/rvest&amp;quot;)
c(&#39;rvest&#39;,&#39;dplyr&#39;) -&amp;gt; packages #installs packages
lapply(packages, library, character.only = T)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The function below will construct each team&#39;s minor league website, for every desired year, and pull out the same table every time.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# prep scraper
url &amp;lt;- &amp;quot;http://www.baseball-reference.com/minors/&amp;quot;
teams=c(&amp;quot;ARI&amp;quot;)
stats_table &amp;lt;- &#39;#team_batting.sortable.stats_table&#39;
stats_id &amp;lt;- paste0(stats_table,&#39; a&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
Let&#39;s start with the Arizona Diamondbacks batting statistics from 2012-2014. We&#39;ll call the data frame we&#39;re about to pull the variable &lt;strong&gt;&#34;minors_batting_ARI&#34;&lt;/strong&gt;. We&#39;re reconstructing the url &lt;code&gt;http://www.baseball-reference.com/minors/affiliate.cgi?id=ARI&amp;year=2014&lt;/code&gt; and instructing the scraper to pull the necessary data table and then repeat the process for next season. We&#39;re calling the pulled data table &#39;df&#39; for simplicity.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minors_batting_ARI &amp;lt;- data.frame()

  # for loop by teams and seasonfor (teams in teams){ 
  for (season in 2014:2012) {
    html &amp;lt;- paste(url,&amp;quot;affiliate.cgi?id=&amp;quot;,teams,&amp;quot;&amp;amp;year=&amp;quot;,season,sep=&amp;quot;&amp;quot;)

    # batting stats
    read_html(html) %&amp;gt;%
      html_nodes(stats_table) %&amp;gt;%
      html_table(header = T) %&amp;gt;%
      data.frame() %&amp;gt;%
      tbl_df() -&amp;gt; df
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So far our code will scrape the batting table from the team&#39;s minor league page, but we also need to extract each player&#39;s Minor League baseball-reference id using it&#39;s href. Isn&#39;t that right Chris Young? No. Not you, &lt;a href=&#34;http://www.baseball-reference.com/players/y/youngch04.shtml&#34;&gt;Chris Young&lt;/a&gt;. The other, lankier &lt;a href=&#34;http://www.baseball-reference.com/players/y/youngch03.shtml&#34;&gt;Chris Young&lt;/a&gt;. We&#39;re good man, no need to &lt;a href=&#34;http://youtu.be/1EiqELgKp5g?t=56s&#34;&gt;get angry&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This portion of code extracts the attributes of the URL in the table and changes them into characters:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;    # player info
    read_html(html) %&amp;gt;%
      html_nodes(stats_id) %&amp;gt;%
      html_attr(name=&amp;quot;href&amp;quot;) %&amp;gt;% unlist %&amp;gt;% as.character -&amp;gt; min_playerid
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Using R formatting code we delete unnecessary rows and create a column called &lt;i&gt;bref_player_id&lt;/i&gt; to assign each player&amp;rsquo;s unique reference id. We&amp;rsquo;re trimming out characters from the href attributes we don&amp;rsquo;t need, leaving only the reference ids.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;    # clean dataframe and add team and season info
    df &amp;lt;- df[1:nrow(df),]
    df &amp;lt;- df[!na.omit(df$Rk==&#39;Rk&#39;),]
    df$season &amp;lt;- c(season)
    df$teams &amp;lt;- c(teams)

    # remove url data
    min_playerid=gsub(&amp;quot;/register/player.cgi?id=&amp;quot;, &amp;quot;&amp;quot;, min_playerid,fixed = TRUE)
    df$min_playerid &amp;lt;- c(min_playerid)

    # bind to dataframe
    minors_batting_ARI &amp;lt;- rbind(minors_batting_ARI,df)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;#to view the dataset and save it as a .csv in our working directory
View(minors_batting_ARI)
write.csv(minors_batting_ARI, &amp;quot;minors_batting_ARI.csv&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There we are! Arizona&#39;s minor league batting stats from 2012-2014! 824 instances may seem like too much, for only a three year period, but Baseball-reference.com doesn&#39;t aggregate a player&#39;s statistics by year; they do it by level. Therefore, some players may have multiple rows for the same season (aren&#39;t you glad we pulled out the reference id!) &lt;/p&gt;
&lt;div class=&#34;container&#34;&gt;
&lt;figure&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/minors_batting_ARI.jpg&#34; class=&#34;img-responsive&#34;&gt;&lt;/figure&gt;&lt;/img&gt;
&lt;/figure&gt;
&lt;/div&gt;


&lt;p&gt;... let&#39;s take a left turn on &lt;a href=&#34;http://hardballtalk.nbcsports.com/2013/01/25/the-diamondbacks-are-travelling-down-grit-avenue-and-guts-boulevard-and-grind-parkway/&#34;&gt;Grind Parkway&lt;/a&gt; and pull in &lt;strong&gt;all MiLB batting statistics for 2014&lt;/strong&gt;.&lt;/p&gt;

&lt;h2&gt;MiLB Batting Stats for All Teams&lt;/h2&gt;

&lt;p&gt;First we&#39;ll need a list of baseball-reference&#39;s team codes. I&#39;ll do the dirty work and include franchise codes for each team since 1969 if you want to play with that data &lt;sup class=&#34;bootstrap-footnote&#34; data-text=&#34;For future investigations be aware that other pages of baseball reference use archived team codes such as MON (Montreal Expos) and CAL (California Angels).&#34;&gt;2&lt;/sup&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;teams=c(&amp;quot;ARI&amp;quot;,&amp;quot;ATL&amp;quot;,&amp;quot;BAL&amp;quot;,&amp;quot;BOS&amp;quot;,&amp;quot;CHC&amp;quot;,&amp;quot;CHW&amp;quot;,&amp;quot;CIN&amp;quot;,&amp;quot;CLE&amp;quot;,&amp;quot;COL&amp;quot;,&amp;quot;DET&amp;quot;,&amp;quot;HOU&amp;quot;,&amp;quot;KCR&amp;quot;,&amp;quot;ANA&amp;quot;,&amp;quot;LAD&amp;quot;,&amp;quot;FLA&amp;quot;,&amp;quot;MIL&amp;quot;,&amp;quot;MIN&amp;quot;,&amp;quot;NYM&amp;quot;,&amp;quot;NYY&amp;quot;,&amp;quot;OAK&amp;quot;,&amp;quot;PHI&amp;quot;,&amp;quot;PIT&amp;quot;,&amp;quot;SDP&amp;quot;,&amp;quot;SFG&amp;quot;,&amp;quot;SEA&amp;quot;,&amp;quot;STL&amp;quot;,&amp;quot;TBD&amp;quot;,&amp;quot;TEX&amp;quot;,&amp;quot;TOR&amp;quot;,&amp;quot;WSN&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;url &amp;lt;- &amp;quot;http://www.baseball-reference.com/minors/&amp;quot;
teams=c(&amp;quot;ARI&amp;quot;,&amp;quot;ATL&amp;quot;,&amp;quot;BAL&amp;quot;,&amp;quot;BOS&amp;quot;,&amp;quot;CHC&amp;quot;,&amp;quot;CHW&amp;quot;,&amp;quot;CIN&amp;quot;,&amp;quot;CLE&amp;quot;,&amp;quot;COL&amp;quot;,&amp;quot;DET&amp;quot;,&amp;quot;HOU&amp;quot;,&amp;quot;KCR&amp;quot;,&amp;quot;ANA&amp;quot;,&amp;quot;LAD&amp;quot;,&amp;quot;FLA&amp;quot;,&amp;quot;MIL&amp;quot;,&amp;quot;MIN&amp;quot;,&amp;quot;NYM&amp;quot;,&amp;quot;NYY&amp;quot;,&amp;quot;OAK&amp;quot;,&amp;quot;PHI&amp;quot;,&amp;quot;PIT&amp;quot;,&amp;quot;SDP&amp;quot;,&amp;quot;SFG&amp;quot;,&amp;quot;SEA&amp;quot;,&amp;quot;STL&amp;quot;,&amp;quot;TBD&amp;quot;,&amp;quot;TEX&amp;quot;,&amp;quot;TOR&amp;quot;,&amp;quot;WSN&amp;quot;)
stats_table &amp;lt;- &#39;#team_batting.sortable.stats_table&#39;
stats_id &amp;lt;- paste0(stats_table,&#39; a&#39;)
minors_batting &amp;lt;- data.frame()

# for loop by teams and season
for (teams in teams){ 
  for (season in 2014:2014) {
    html &amp;lt;- paste(url,&amp;quot;affiliate.cgi?id=&amp;quot;,teams,&amp;quot;&amp;amp;year=&amp;quot;,season,sep=&amp;quot;&amp;quot;)

    # batting stats
    read_html(html) %&amp;gt;%
      html_nodes(stats_table) %&amp;gt;%
      html_table(header = T) %&amp;gt;%
      data.frame() %&amp;gt;%
      tbl_df() -&amp;gt; df

    # player info
    read_html(html) %&amp;gt;%
      html_nodes(stats_id) %&amp;gt;%
      html_attr(name=&amp;quot;href&amp;quot;) %&amp;gt;% unlist %&amp;gt;% as.character -&amp;gt; min_playerid

    # clean dataframe and add team and season info
    df &amp;lt;- df[1:nrow(df),]
    df &amp;lt;- df[!na.omit(df$Rk==&#39;Rk&#39;),]
    df$season &amp;lt;- c(season)
    df$teams &amp;lt;- c(teams)

    # remove url data
    min_playerid=gsub(&amp;quot;/register/player.cgi?id=&amp;quot;, &amp;quot;&amp;quot;, min_playerid,fixed = TRUE)
    df$min_playerid &amp;lt;- c(min_playerid)

    # bind to 
    minors_batting &amp;lt;- rbind(minors_batting,df)
  }
}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To query other seasons or teams, simply change the information selected. For example:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;teams=c(&amp;quot;OAK&amp;quot;,&amp;quot;TBD&amp;quot;)

stats_table &amp;lt;- &#39;#team_batting.sortable.stats_table&#39;
stats_id &amp;lt;- paste0(stats_table,&#39; a&#39;)
minors_batting &amp;lt;- data.frame()

for (teams in teams){ for (season in 2010:2005) {
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Will pull in minor league batting statistics for Oakland and Tampa Bay for the years 2005-2010.&lt;/p&gt;

&lt;p&gt;Lets clean up all of the stray objects besides the &lt;code&gt;minors_batting&lt;/code&gt; dataframe in our working environment before moving on:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;rm(list=setdiff(ls(), &amp;quot;minors_batting&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;Obligatory heads up!&lt;/h3&gt;

&lt;p&gt;This code is querying 30 distinct URLs for every season, so multi-season outputs can take some time. Here are my system.time indicators for the above function:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/sys_time_MiLB.jpg&#34;&gt;&lt;/p&gt;

&lt;p&gt;The query takes about a 1:45 for every league-wide season pull. &lt;strong&gt;Pro-Tip!&lt;/strong&gt; Get that query going and have some breakfast/lunch/dinner.&lt;/p&gt;

&lt;h4&gt;Coming up...&lt;/h4&gt;

&lt;p&gt;Stay tuned to the site for another post about similarity scores and to learn more about Kris Bryant&amp;rsquo;s best comparisons.&lt;/p&gt;

&lt;h4&gt;Footnotes&lt;/h4&gt;

&lt;p&gt;&lt;sup class=&#34;bootstrap-footnote&#34; data-text=&#34;In baseball terms, one might describe his contributions to R software as equal parts Bill James and Bill Veeck.&#34;&gt;1&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;In baseball terms, one might describe his contributions to R software as equal parts Bill James and Bill Veeck.&lt;/p&gt;

&lt;p&gt;&lt;sup class=&#34;bootstrap-footnote&#34; data-text=&#34;For future investigations be aware that other pages of baseball reference use archived team codes such as MON (Montreal Expos) and CAL (California Angels).&#34;&gt;2&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;For future investigations be aware that other pages of baseball reference use archived team codes such as MON (Montreal Expos) and CAL (California Angels).&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Have feedback, questions, or want to see something else added? Check out my &lt;a href=&#34;https://github.com/mikeleeco/Baseball-Reference-Scrapers&#34;&gt;MiLB Scraper on github&lt;/a&gt; or fork my repository to propose changes.  &lt;a class=&#34;btn btn-primary&#34; href=&#34;https://github.com/mikeleeco/Baseball-Reference-Scrapers/fork&#34;&gt;Edit My Code&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>